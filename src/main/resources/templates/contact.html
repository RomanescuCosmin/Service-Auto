<!DOCTYPE html>
<html lang="ro" th:replace="~{fragments/layout :: layout(~{::title}, ~{::section})}"
      xmlns:x-transition="http://www.w3.org/1999/xhtml">
<head>
    <title>Contact</title>
    <link rel="stylesheet" href="/styles/header.css">
</head>
<body class="bg-white">
<section x-data="{ showContent:false, busy:false }"
         x-init="setTimeout(()=>showContent=true,100)">

    <header class="relative">
        <div class="relative max-w-7xl mx-auto px-6 pt-10 pb-14">
            <div class="text-center">
                <h1 class="text-4xl md:text-5xl font-extrabold text-slate-900">Contactează-ne</h1>
                <p class="mt-2 text-slate-600">Răspundem rapid și clar – programări, întrebări, oferte.</p>

                <div class="mt-6 flex flex-wrap items-center justify-center gap-2 text-sm">
          <span class="inline-flex items-center gap-2 rounded-full bg-orange-500/10 text-orange-700 ring-1 ring-orange-500/20 px-3 py-1">
             <svg class="h-5 w-5 text-orange-600" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                          d="M12 21s-7-4.5-7-11a7 7 0 1 1 14 0c0 6.5-7 11-7 11z"/>
                                    <circle cx="12" cy="10" r="2.5" stroke-width="2"></circle>
                                  </svg> Str. Balta Albina 8, Sector 3
          </span>
                    <a href="tel:0731348340"
                       class="inline-flex items-center gap-2 rounded-full bg-slate-900 text-white px-3 py-1 hover:bg-slate-800 transition">
                        <svg class="h-5 w-5 text-orange-600 " viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M3 5a16 16 0 0 0 16 16l2-2a2 2 0 0 0-1-3.3l-3.1-1.1a2 2 0 0 0-2.1.5l-.9.9a13 13 0 0 1-5-5l.9-.9a2 2 0 0 0 .5-2.1L10.3 3A2 2 0 0 0 7 2L5 4a2 2 0 0 0-2 1z"/>
                        </svg> 0731 348 340
                    </a>
                    <a href="mailto:contact@csm-auto.ro"
                       class="inline-flex items-center gap-2 rounded-full bg-white text-slate-700 ring-1 ring-slate-200 px-3 py-1 hover:bg-slate-50 transition">
                        ✉️ contact@csm-auto.ro
                    </a>
                </div>
            </div>
        </div>


    </header>

    <!-- alerte -->
    <div th:replace="~{fragments/succes-message}"></div>
    <div th:replace="~{fragments/notification-error}"></div>

    <!-- ===== CONȚINUT ===== -->
    <div x-show="showContent"
         x-transition:enter="transition ease-out duration-700"
         x-transition:enter-start="opacity-0 translate-y-4"
         x-transition:enter-end="opacity-100 translate-y-0">

        <div class="max-w-7xl mx-auto px-6 py-12">
            <div class="grid lg:grid-cols-5 gap-10">

                <!-- ===== FORMULAR ===== -->
                <div class="lg:col-span-3">

                    <div class="rounded-2xl bg-white ring-1 ring-slate-200 shadow">
                        <div class="border-b border-slate-200 px-6 py-5">
                            <h2 class="text-2xl font-semibold text-slate-900">Trimite-ne un mesaj</h2>
                            <p class="text-sm text-slate-600">Completează formularul, iar noi revenim rapid.</p>
                            <div class="mt-3 h-[3px] w-12 rounded bg-orange-500"></div>
                        </div>

                        <form th:action="@{/contact}" method="POST" th:object="${contact}" novalidate
                              id="contactId"
                              class="px-6 py-6 space-y-5"
                              @submit="const ok = validateContact(); if(!ok){ $event.preventDefault(); busy=false } else { busy=true }">

                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

                            <div class="grid md:grid-cols-2 gap-5">
                                <div>
                                    <label for="nume"
                                           class="block text-xs font-semibold text-slate-700 mb-1">Nume*</label>
                                    <input id="nume"
                                           type="text"
                                           th:field="*{nume}"
                                           oninput= "onInputOnChange(this)"
                                           onchange= "onInputOnChange(this)"
                                           placeholder="Nume și prenume"
                                           class="w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2.5 text-sm
                                           placeholder:text-slate-400 outline-none focus:bg-white focus:border-orange-500 focus:ring-2 focus:ring-orange-100"/>

                                    <p class="validation-error hidden mb-4 mt-2 rounded-xl bg-red-50 p-3 text-sm text-red-700"> Acest camp este obligatoriu </p>


                                </div>

                                <div>
                                    <label for="email"
                                           class="block text-xs font-semibold text-slate-700 mb-1">Email*</label>
                                    <input id="email"
                                           type="email"
                                           th:field="*{email}"
                                           oninput= "onInputOnChange(this)"
                                           onchange= "onInputOnChange(this)"
                                           placeholder="ex: nume@email.ro"
                                           class="w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2.5 text-sm placeholder:text-slate-400 outline-none focus:bg-white focus:border-orange-500 focus:ring-2 focus:ring-orange-100"/>
                                    <p class="validation-error hidden mb-4 mt-2 rounded-xl bg-red-50 p-3 text-sm text-red-700"> Acest camp este obligatoriu </p>

                                </div>
                            </div>

                            <div class="grid md:grid-cols-2 gap-5">
                                <div>
                                    <label for="telefon" class="block text-xs font-semibold text-slate-700 mb-1">Telefon*</label>
                                    <input id="telefon"
                                           type="tel"
                                           th:field="*{telefon}"
                                           oninput= "onInputOnChange(this)"
                                           onchange= "onInputOnChange(this)"
                                           placeholder="07xx xxx xxx"
                                           class="w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2.5 text-sm placeholder:text-slate-400 outline-none focus:bg-white focus:border-orange-500 focus:ring-2 focus:ring-orange-100"/>
                                    <p class="mt-1 text-xs text-red-600" th:if="${#fields.hasErrors('telefon')}"
                                       th:errors="*{telefon}"></p>
                                    <p class="validation-error hidden mb-4 mt-2 rounded-xl bg-red-50 p-3 text-sm text-red-700"> Acest camp este obligatoriu </p>

                                </div>
                                <div>
                                    <label for="serieSasiu" class="block text-xs font-semibold text-slate-700 mb-1">Serie
                                        șasiu (opțional)</label>
                                    <input id="serieSasiu"
                                           type="text"
                                           th:field="*{serieSasiu}"
                                           placeholder="VIN"
                                           class="w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2.5 text-sm placeholder:text-slate-400 outline-none focus:bg-white focus:border-orange-500 focus:ring-2 focus:ring-orange-100"/>
                                    <p class="mt-1 text-xs text-red-600" th:if="${#fields.hasErrors('serieSasiu')}"
                                       th:errors="*{serieSasiu}"></p>
                                </div>
                            </div>

                            <div>
                                <label for="descriere" class="block text-xs font-semibold text-slate-700 mb-1">Mesajul
                                    tău*</label>
                                <textarea id="descriere"
                                          rows="8"
                                          th:field="*{descriere}"
                                          oninput= "onInputOnChange(this)"
                                          onchange= "onInputOnChange(this)"
                                          placeholder="Scrie aici ce problemă are mașina..."
                                          class="w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-3 text-sm placeholder:text-slate-400 outline-none focus:bg-white focus:border-orange-500 focus:ring-2 focus:ring-orange-100"></textarea>
                                <p class="mt-1 text-xs text-red-600" th:if="${#fields.hasErrors('descriere')}"
                                   th:errors="*{descriere}"></p>
                                <p class="validation-error hidden mb-4 mt-2 rounded-xl bg-red-50 p-3 text-sm text-red-700"> Acest camp este obligatoriu </p>

                            </div>

                            <label class="flex items-start gap-2 text-xs text-slate-600">
                                <input type="checkbox"
                                       class="mt-0.5 rounded border-slate-300 text-orange-600 focus:ring-orange-500">
                                Sunt de acord cu prelucrarea datelor în scopul oferirii serviciilor solicitate.
                            </label>

                            <div class="pt-2 flex items-center gap-3">
                                <button type="submit"
                                        :disabled="busy"
                                        class="inline-flex items-center rounded-lg bg-orange-500 px-5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-600 disabled:opacity-60 disabled:cursor-not-allowed transition">
                                    <svg x-show="busy" class="-ml-0.5 mr-2 h-4 w-4 animate-spin" viewBox="0 0 24 24"
                                         fill="none">
                                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                                stroke-width="3"></circle>
                                        <path class="opacity-75" fill="currentColor"
                                              d="M4 12a8 8 0 018-8v4A4 4 0 008 12H4z"></path>
                                    </svg>
                                    Trimite
                                </button>
                                <a href="tel:0731348340"
                                   class="inline-flex items-center rounded-lg px-5 py-2.5 text-sm font-semibold text-slate-700 ring-1 ring-slate-200 hover:bg-slate-50 transition">
                                    <!-- phone -->
                                    <svg class="h-5 w-5 text-orange-600 mr-3" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                              d="M3 5a16 16 0 0 0 16 16l2-2a2 2 0 0 0-1-3.3l-3.1-1.1a2 2 0 0 0-2.1.5l-.9.9a13 13 0 0 1-5-5l.9-.9a2 2 0 0 0 .5-2.1L10.3 3A2 2 0 0 0 7 2L5 4a2 2 0 0 0-2 1z"/>
                                    </svg>  Sună acum
                                </a>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- ===== INFO & HARTĂ ===== -->
                <div class="lg:col-span-2 space-y-6">
                    <div class="rounded-2xl bg-white ring-1 ring-slate-200 shadow p-6">
                        <h3 class="text-lg font-semibold text-slate-900">Detalii de contact</h3>
                        <p class="mt-1 text-sm text-slate-600">Ne găsești ușor. Răspundem în timpul programului.</p>

                        <div class="mt-5 grid gap-4">
                            <div class="flex items-start gap-3">
                                <span class="grid h-10 w-10 place-items-center rounded-lg ring-1 ring-slate-200">

                                  <svg class="h-5 w-5 text-orange-600" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                          d="M12 21s-7-4.5-7-11a7 7 0 1 1 14 0c0 6.5-7 11-7 11z"/>
                                    <circle cx="12" cy="10" r="2.5" stroke-width="2"></circle>
                                  </svg>
                                </span>
                                <div>
                                    <div class="font-medium text-slate-900">Adresa Service</div>
                                    <div class="text-sm text-slate-600">Strada Balta Albina, nr. 8, Sector 3,
                                        București
                                    </div>
                                </div>
                            </div>

                            <div class="flex items-start gap-3">
                                <span class="grid h-10 w-10 place-items-center rounded-lg ring-1 ring-slate-200">

                                  <svg class="h-5 w-5 text-orange-600" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                          d="M3 5a16 16 0 0 0 16 16l2-2a2 2 0 0 0-1-3.3l-3.1-1.1a2 2 0 0 0-2.1.5l-.9.9a13 13 0 0 1-5-5l.9-.9a2 2 0 0 0 .5-2.1L10.3 3A2 2 0 0 0 7 2L5 4a2 2 0 0 0-2 1z"/>
                                  </svg>
                                </span>
                                <div>
                                    <div class="font-medium text-slate-900">Telefon</div>
                                    <div class="text-sm text-slate-700">
                                        <a href="tel:0731348340" class="hover:underline">0731 348 340</a> ·
                                        <a href="tel:0731348341" class="hover:underline">0731 348 341</a>
                                    </div>
                                </div>
                            </div>
                            <div class="flex items-start gap-3">
                                    <span class="grid h-10 w-10 place-items-center rounded-lg ring-1 ring-slate-200">
                                      <!-- mail -->
                                      <svg class="h-5 w-5 text-orange-600" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <rect x="3" y="5" width="18" height="14" rx="2" ry="2" stroke-width="2"/>
                                        <path d="M3 7l9 6 9-6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                      </svg>
                                    </span>
                                <div>
                                    <div class="font-medium text-slate-900">E-mail</div>
                                    <a href="mailto:contact@csm-auto.ro"
                                       class="text-sm font-semibold text-slate-800 hover:underline">contact@csm-auto.ro</a>
                                </div>
                            </div>
                            <div class="flex items-start gap-3">
                                <span class="grid h-10 w-10 place-items-center rounded-lg ring-1 ring-slate-200">
                                  <svg class="h-5 w-5 text-orange-600" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <circle cx="12" cy="12" r="9" stroke-width="2"/>
                                    <path d="M12 7v5l3 3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                  </svg>
                                </span>
                                <div>
                                    <div class="font-medium text-slate-900">Program</div>
                                    <div class="text-sm text-slate-700">Luni–Vineri: 8:00–17:00</div>
                                    <div class="text-sm text-slate-700">Sâmbătă–Duminică: Închis</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="rounded-2xl overflow-hidden ring-1 ring-slate-200 shadow">
                        <img th:src="@{/image/adresa-maps.png}"
                             alt="Hartă – CSM Auto, Str. Balta Albina 8, Sector 3"
                             class="w-full h-56 md:h-64 object-cover select-none" draggable="false">
                        <div class="p-3 border-t border-slate-200 flex items-center justify-between text-sm">
                            <div class="text-slate-600">Previzualizare hartă (imagine demonstrativă)</div>
                            <a href="https://www.google.com/maps/place/Strada+Balta+Albina+8,+Bucure%C8%99ti+032622/@44.4077818,26.2096912,17z/data=!3m1!4b1!4m6!3m5!1s0x40b1fc6f282d8bad:0x5e5261652369ff86!8m2!3d44.4077818!4d26.2122715!16s%2Fg%2F11lm3rht0t?entry=ttu&g_ep=EgoyMDI1MDkwNy4wIKXMDSoASAFQAw%3D%3D"
                               target="_blank" rel="noopener"
                               class="inline-flex items-center gap-2 rounded-lg bg-white px-3 py-1.5 font-semibold text-slate-900 ring-1 ring-slate-200 hover:bg-slate-50">
                                Deschide în Google Maps
                                <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                          d="M9 5l7 7-7 7"/>
                                </svg>
                            </a>
                        </div>
                    </div>

                    <div class="rounded-2xl bg-orange-50 ring-1 ring-orange-200 p-5">
                        <h4 class="font-semibold text-orange-800">Sfaturi rapide înainte de programare</h4>
                        <ul class="mt-2 text-sm text-orange-900/90 space-y-1">
                            <li>• Notează simptomele (zgomote, martori, când apar).</li>
                            <li>• Spune-ne când a fost ultima revizie / schimb ulei.</li>
                            <li>• Dacă e daună, ai la îndemână polița și constatarea.</li>
                        </ul>
                    </div>

                </div>
            </div>
        </div>

    </div>
</section>
</body>
</html>
