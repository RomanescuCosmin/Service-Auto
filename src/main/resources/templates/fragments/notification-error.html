<div
  th:fragment="notification-error-message"
  th:if="${saveResult == 'failed-update' || saveResult == 'failed-delete' || saveResult == 'failed-add'}"
  x-init="setTimeout(() => (showServerError = false), 50000);"
  x-data="{ showServerError: true }"
  x-show="showServerError"
  class="max-w-7xl mx-auto px-4"
  xmlns:th="http://www.thymeleaf.org"
>
  <div
    role="alert"
    aria-live="polite"
    class="relative overflow-hidden rounded-2xl bg-red-950 text-red-100 ring-1 ring-red-800/60 shadow-xl"
  >
    <button
      type="button"
      @click="showServerError = false"
      class="absolute right-3 top-3 inline-flex h-8 w-8 items-center justify-center rounded-lg text-red-200/80 hover:text-white hover:bg-white/5 focus:outline-none focus:ring-2 focus:ring-red-400/50"
    >
      <span class="sr-only">Închide</span>
      <svg
        class="h-5 w-5"
        viewBox="0 0 20 20"
        fill="currentColor"
        aria-hidden="true"
      >
        <path
          fill-rule="evenodd"
          d="M4.293 4.293a1 1 0 0 1 1.414 0L10 8.586l4.293-4.293a1 1 0 1 1 1.414 1.414L11.414 10l4.293 4.293a1 1 0 0 1-1.414 1.414L10 11.414l-4.293 4.293A1 1 0 0 1 4.293 14.293L8.586 10 4.293 5.707a1 1 0 0 1 0-1.414z"
          clip-rule="evenodd"
        />
      </svg>
    </button>

    <div class="flex items-start gap-4 p-5 md:p-6">
      <span
        class="mt-0.5 inline-flex h-9 w-9 items-center justify-center rounded-full bg-red-900 ring-1 ring-red-700/60"
      >
        <svg
          class="h-5 w-5 text-red-200"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            d="M12 9v4m0 4h.01"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </span>

      <div class="flex-1 leading-relaxed">
        <p class="text-sm">
          <span class="font-semibold text-white">Warning:</span>
          <span class="text-red-100/90"> Sistemul a întâmpinat o eroare. </span>
        </p>

        <p th:if="${errorMessage != null && errorMessage != ' '}">
          <span th:utext="${errorMessage}"></span>
          <a class="font-bold text-white" th:href="@{/login}">
            Click aici pentru a te loga
          </a>
        </p>
      </div>
    </div>

    <div
      class="pointer-events-none absolute inset-x-0 -top-24 h-40 bg-gradient-to-b from-red-400/10 to-transparent blur-2xl"
    ></div>
  </div>
</div>
